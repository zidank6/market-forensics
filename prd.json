{
    "project": "market-forensics",
    "branchName": "feat/replication-robustness",
    "userStories": [
        {
            "id": "MF-010",
            "title": "Canonicalize additional BTCUSDT trading days",
            "priority": 1,
            "passes": true,
            "description": "Prepare canonical data for at least 2 additional BTCUSDT trading days beyond 2024-03-28 to enable multi-day replication analysis.",
            "acceptanceCriteria": [
                "Run canonicalize_binance_um_day.py for at least 2 additional dates.",
                "Each date produces trades.csv and tob.csv in data/binance/futures_um/BTCUSDT/canonical/{date}/.",
                "Document selected dates in a config or manifest file."
            ]
        },
        {
            "id": "MF-011",
            "title": "Create multi-day pipeline runner script",
            "priority": 2,
            "passes": true,
            "description": "Create a wrapper script that runs the existing pipeline on multiple dates specified in a config, without modifying core src/ code.",
            "acceptanceCriteria": [
                "Create scripts/run_replication.py that accepts a list of dates.",
                "Script runs python -m src.market_forensics.run for each date with appropriate config overrides.",
                "Each run outputs to outputs/{date}/ to keep results separate.",
                "No modifications to src/market_forensics/."
            ]
        },
        {
            "id": "MF-012",
            "title": "Run pipeline on 3+ distinct trading days",
            "priority": 3,
            "passes": true,
            "description": "Execute the replication runner on at least 3 distinct BTCUSDT trading days and verify each produces ordering results.",
            "acceptanceCriteria": [
                "Pipeline runs successfully on at least 3 dates.",
                "Each run produces event_orderings.csv (or equivalent) in its output directory.",
                "No errors or hangs during execution."
            ]
        },
        {
            "id": "MF-013",
            "title": "Aggregate ordering outcomes into summary table",
            "priority": 4,
            "passes": true,
            "description": "Create a script that collects ordering classifications from all multi-day runs into a single replication_summary.csv.",
            "acceptanceCriteria": [
                "Create scripts/aggregate_results.py that reads outputs/{date}/metrics/event_orderings.csv.",
                "Produces outputs/replication_summary.csv with columns: date, events_detected, windows_extracted, liquidity_first_count, price_first_count, trade_first_count.",
                "Summary accurately reflects data from all processed dates."
            ]
        },
        {
            "id": "MF-014",
            "title": "Run threshold sensitivity analysis",
            "priority": 5,
            "passes": false,
            "description": "Run the pipeline on a single date with varying thresholds (0.4%, 0.5%, 0.6%) to check if ordering results are stable.",
            "acceptanceCriteria": [
                "Create scripts/run_sensitivity.py that varies price_shock_threshold_pct.",
                "Runs pipeline 3 times with thresholds: 0.4, 0.5, 0.6.",
                "Produces outputs/sensitivity_summary.csv showing ordering counts by threshold.",
                "Uses config overrides, not hardcoded source changes."
            ]
        },
        {
            "id": "MF-015",
            "title": "Generate final research summary",
            "priority": 6,
            "passes": false,
            "description": "Produce a clean markdown summary of replication and sensitivity results suitable for inclusion in a research writeup.",
            "acceptanceCriteria": [
                "Create outputs/replication_report.md with: dates analyzed, event counts, ordering breakdown table, sensitivity findings.",
                "All numbers are derived from generated CSVs (not hardcoded).",
                "Report answers: 'Is liquidity-first ordering consistent across days and thresholds?'"
            ]
        }
    ]
}